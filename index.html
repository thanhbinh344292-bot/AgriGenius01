<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>AgriGenius ‚Äì Tr·ª£ l√Ω n√¥ng d√¢n</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      margin: 0;
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f1f8f4;
    }

    h1 {
      text-align: center;
      color: #4CAF50;
    }

    .card {
      background: #fff;
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 6px 18px rgba(0,0,0,.08);
    }

    ul {
      padding-left: 18px;
    }

    li {
      padding: 6px 0;
      cursor: pointer;
    }

    .done {
      text-decoration: line-through;
      color: #999;
    }

    input, button {
      width: 100%;
      padding: 12px;
      margin-top: 8px;
      border-radius: 10px;
      border: 1px solid #ddd;
      font-size: 16px;
    }

    button {
      background: #4CAF50;
      color: white;
      border: none;
      font-weight: bold;
    }

    #botReply {
      margin-top: 10px;
      font-style: italic;
    }
  </style>
</head>

<body>

<h1>üå± AgriGenius</h1>

<div class="card">
  <h3>üìã Vi·ªác h√¥m nay</h3>
  <ul id="taskList"></ul>
</div>

<div class="card">
  <h3>ü§ñ Tr·ª£ l√Ω n√¥ng d√¢n</h3>
  <input id="userInput" placeholder="H·ªèi g√¨ c≈©ng ƒë∆∞·ª£c..." />
  <button onclick="send()">G·ª≠i</button>
  <div id="botReply"></div>
</div>

<div class="card">
  <h3>üîä Nh·∫Øc vi·ªác</h3>
  <button onclick="speakReminder()">Nh·∫Øc t√¥i ra v∆∞·ªùn</button>
</div>

<script>
  // ===== TO-DO =====
  const DEFAULT_TASKS = [
    "üíß T∆∞·ªõi n∆∞·ªõc",
    "üåæ B√≥n ph√¢n",
    "üêõ Ki·ªÉm tra s√¢u b·ªánh"
  ];

  function loadTasks() {
    return JSON.parse(localStorage.getItem("tasks")) ||
      DEFAULT_TASKS.map(t => ({ text: t, done: false }));
  }

  function saveTasks(tasks) {
    localStorage.setItem("tasks", JSON.stringify(tasks));
  }

  function renderTasks() {
    const list = document.getElementById("taskList");
    list.innerHTML = "";
    const tasks = loadTasks();

    tasks.forEach((t, i) => {
      const li = document.createElement("li");
      li.textContent = t.text;
      if (t.done) li.className = "done";
      li.onclick = () => toggleTask(i);
      list.appendChild(li);
    });
  }

  function toggleTask(index) {
    const tasks = loadTasks();
    tasks[index].done = !tasks[index].done;
    saveTasks(tasks);
    renderTasks();
  }

  renderTasks();

  // ===== TR·ª¢ L√ù GI·∫¢ L·∫¨P =====
  function random(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  function send() {
    const input = document.getElementById("userInput");
    const reply = document.getElementById("botReply");
    const q = input.value.toLowerCase().trim();

    let a = "";

    if (!q) {
      a = "C√≥ h·ªèi th√¨ m√¨nh m·ªõi n√≥i ch·ªõ üå±";
    }
    else if (q.includes("ch√†o")) {
      a = random([
        "Ch√†o b·∫°n, h√¥m nay ra v∆∞·ªùn ch∆∞a?",
        "·ª™ m√¨nh ƒë√¢y, h·ªèi g√¨ n√®.",
        "Ch√†o nhen, c√¢y c·ªëi sao r·ªìi?"
      ]);
    }
    else if (q.includes("v√†ng l√°")) {
      a = random([
        "V√†ng l√° th∆∞·ªùng do thi·∫øu ƒë·∫°m ho·∫∑c √∫ng n∆∞·ªõc.",
        "Coi l·∫°i ƒë·∫•t c√≥ ∆∞·ªõt qu√° kh√¥ng nghen.",
        "N·∫øu v√†ng t·ª´ l√° gi√† l√™n l√† thi·∫øu dinh d∆∞·ª°ng."
      ]);
    }
    else if (q.includes("t∆∞·ªõi")) {
      a = random([
        "T∆∞·ªõi s√°ng s·ªõm l√† ngon nh·∫•t.",
        "Tr∆∞a n·∫Øng ƒë·ª´ng t∆∞·ªõi, c√¢y d·ªÖ s·ªëc.",
        "T∆∞·ªõi v·ª´a ƒë·ªß th√¥i, ƒë·ª´ng th∆∞∆°ng qu√°."
      ]);
    }
    else if (q.includes("b√≥n")) {
      a = random([
        "B√≥n ph√¢n nh·ªõ coi th·ªùi ti·∫øt.",
        "√çt m√† ƒë·ªÅu c√≤n h∆°n d·ªìn m·ªôt c·ª•c.",
        "B√≥n xong nh·ªõ t∆∞·ªõi nh·∫π."
      ]);
    }
    else if (q.includes("m·ªát")) {
      a = random([
        "M·ªát th√¨ ngh·ªâ, ƒë·∫•t ƒë√¢u c√≥ ch·∫°y m·∫•t.",
        "L√†m n√¥ng l√† ƒë∆∞·ªùng d√†i.",
        "U·ªëng n∆∞·ªõc c√°i ƒë√£ r·ªìi l√†m ti·∫øp."
      ]);
    }
    else {
      a = random([
        "B·∫°n n√≥i r√µ th√™m ch√∫t m√¨nh coi.",
        "Chuy·ªán n√†y ph·∫£i coi th·ª±c t·∫ø ngo√†i v∆∞·ªùn.",
        "ƒê·ªÉ m√¨nh nghƒ© th·ª≠ nhen."
      ]);
    }

    reply.innerText = a;

    const voice = new SpeechSynthesisUtterance(a);
    voice.lang = "vi-VN";
    speechSynthesis.speak(voice);

    input.value = "";
  }

  // ===== NH·∫ÆC VI·ªÜC =====
  function speakReminder() {
    const msg = new SpeechSynthesisUtterance(
      "Nh·∫Øc nh·∫π n√®, t·ªõi gi·ªù ra v∆∞·ªùn r·ªìi ƒë√≥."
    );
    msg.lang = "vi-VN";
    speechSynthesis.speak(msg);
  }
</script>

</body>
</html>
